# Hadoop集群程序设计与开发

## 第一章 初识Hadoop

大数据存储及计算问题

#### 分布式系统解决了高并发的吞吐和大规模数据管理与计算问题

分布式系统是一个其组件分布在联网的计算机上，组件之间通过传递消息进行通信和动作协调的系统，有以下3个主要特征

+ **并发性**
  + 分布式系统中的多个节点可能会并发地操作一些共享的资源
+ **副本**
  + 是分布式系统提供的一种容错机制，分为数据副本和服务副本。服务副本指多个节点提供同样的服务，每个节点都有能力接受来自外部的请求并进行相应的处理
+ **可扩展性**
  + 分布式系统由独立的服务器通过网络松散耦合组成。提升分布式系统的整体性能是要通过横向扩展（增加更多的服务器），而不是纵向扩展（提升每个节点的服务器性能）

#### 数据规模演进过程的特征

单台计算机——单台服务器——服务器集群——云

单台计算机：微机原理、应用软件的使用
单台服务器：程序应用开发、关系数据库的简单应用、并行、多线程技术
服务器集群：程序高级开发、关系数据库、数据仓库、非关系库、并行、多线程、分布式技术、数据分析、挖掘
云：程序高级开发、关系数据库、数据仓库、非关系库、并行、多线程、分布式技术、数据分析、挖掘

#### 并行计算Parallel Computing

也可称平行计算，可以理解成一种一次可执行多个指令的算法，一定程度上提高了计算速度，扩大了问题求解规模及复杂程度

#### 分布式计算Distributed Computing

不等于并行计算。分布式计算的核心思想是把需要进行大量计算的工程数据分区成小块，由多台计算机分别计算，再上传运算结果，将结果统一合并，得出数据结论

将大任务分成等大小的数据块Block，然后将这些数据块以多副本（防止数据丢失）形式存储在计算机集群的不同机器上，每台机器计算自己分担的小任务（Map过程），计算完成后将结果通过Reduce过程进行最终结果计算，最后输出结果

---

#### 并行计算与分布式计算的异同

+ 相似点：运用并行来获得更高性能，化大任务为小任务
+ 不同点：
  + 内存分配不同。并行计算中，所有的处理器共享内存，共享的内存可以让多个处理器彼此交换信息；分布式计算中，每个处理器都有其独享的内存，数据交换通过处理器传递信息完成
  + 工作原理不同。并行程序并行处理的任务包之间联系紧密，且每一个任务块都是必要的、需要处理的，而且计算结果相互影响，要求每个计算结果绝对正确；分布式的任务包相互之间有独立性，上一个任务包的结果未返回或者结果处理错误，对下一个任务包的处理几乎没有什么影响，因此，分布式的实时性要求不高，而且允许存在计算错误

---

#### 使用框架的原因

一些问题及其所涉及的技术，如果一样一样从零基础开始运作，无疑成本高、风险大、代价大。公司一般更愿意考虑具有一定基础的分布式存储、分布式计算功能的框架来辅助做这件事。

+ 节省人力成本
+ 节省开发维护成本

Hadoop框架满足将各种形式（结构化、半结构化、非结构化）数据以多副本形式均匀地分布在各服务节点上，同时满足各节点分布式计算功能



